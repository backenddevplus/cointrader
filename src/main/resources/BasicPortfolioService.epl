@Name('PORTFOLIO_WINDOW')
create window
	PortfolioWindow.std:groupwin(id).std:lastevent() 
as
	select *
from
	SubscribePortfolioEvent;
	
@Name('SUBSCRIBE_PORTFOLIO')
insert into
	PortfolioWindow
select
	portfolio.*
from
	SubscribePortfolioEvent;

@Name('PROPERGATE_TRANSACTION')
//@Subscriber(className='org.cryptocoinpartners.schema.PortfolioManager$handleTransaction')
select
	*
	from Transaction
